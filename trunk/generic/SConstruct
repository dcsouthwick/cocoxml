# -*- python -*-
# Author: Charles Wang <charlesw123456@gmail.com>
# License: GPLv2

import os.path

topsrc = os.getcwd()
env = Environment(CCFLAGS = ['-g', '-Wall'],
                  CPPDEFINES = ['_GNU_SOURCE'],
                  CPPPATH = [topsrc,
                             os.path.join(topsrc, 'lib')])

Export('env')
SConscript(os.path.join('lib', 'SConscript'))
Import('lib')
SConscript(os.path.join('tests', 'SConscript'))

env.Program('Src2Frame', ['Src2Frame.c', lib])
env.Program('TestScanner', ['TestScanner.c', 'Scanner.c'])
env.Program('Coco', ['Coco.c', 'Scanner.c', 'Parser.c', 'DFA.c', 'Tab.c', lib])
env.Program('CocoXml', ['CocoXml.c', lib])
